/**
 * 自定义CSS - TypeScript类型挑战网站
 */

:root {
  /* TypeScript蓝色调色板 - 浅色模式 */
  --ts-blue: #3178c6;
  --ts-blue-light: #4d8ddd;
  --ts-blue-dark: #265d9c;

  /* 粉色调色板 */
  --ts-pink: #ec4899;
  --ts-pink-light: #f472b6;
  --ts-pink-dark: #db2777;

  /* 基础颜色 - 浅色模式 */
  --vp-c-brand: var(--ts-blue);
  --vp-c-brand-light: var(--ts-blue-light);
  --vp-c-brand-dark: var(--ts-blue-dark);

  /* 按钮样式 */
  --vp-button-brand-border: var(--ts-blue-dark);
  --vp-button-brand-text: #ffffff;
  --vp-button-brand-bg: var(--ts-blue);
  --vp-button-brand-hover-border: var(--ts-blue-dark);
  --vp-button-brand-hover-text: #ffffff;
  --vp-button-brand-hover-bg: var(--ts-blue-light);
  --vp-button-brand-active-border: var(--ts-blue-dark);
  --vp-button-brand-active-text: #ffffff;
  --vp-button-brand-active-bg: var(--ts-blue-dark);

  /* 代码块样式 */
  --vp-code-block-bg: #f6f8fa;
  --vp-code-line-highlight-color: rgba(49, 120, 198, 0.1);

  /* 主页英雄区样式 */
  --vp-home-hero-name-color: var(--ts-blue);
}

/* 深色模式覆盖 */
.dark {
  /* 深色模式蓝色 */
  --ts-blue-dark-mode: #4d8ddd;
  --ts-blue-light-dark-mode: #6ca1e0;
  --ts-blue-darker-dark-mode: #3178c6;

  /* 基础颜色 - 深色模式 */
  --vp-c-brand: var(--ts-blue-dark-mode);
  --vp-c-brand-light: var(--ts-blue-light-dark-mode);
  --vp-c-brand-dark: var(--ts-blue-darker-dark-mode);

  /* 深色模式背景色和文本色 */
  --vp-c-bg: #1a1a1a;
  --vp-c-bg-alt: #242424;
  --vp-c-bg-soft: #2c2c2c;
  --vp-c-bg-mute: #313131;

  --vp-c-text-1: rgba(255, 255, 255, 0.92);
  --vp-c-text-2: rgba(255, 255, 255, 0.76);
  --vp-c-text-3: rgba(255, 255, 255, 0.5);

  /* 代码块样式 - 深色模式 */
  --vp-code-block-bg: #1e1e1e;
  --vp-code-line-highlight-color: rgba(77, 141, 221, 0.15);
}

/* 主题颜色切换过渡效果 */
.theme-color-transition,
.theme-color-transition * {
  transition:
    color 0.3s ease,
    background-color 0.3s ease,
    border-color 0.3s ease,
    box-shadow 0.3s ease !important;
}

/* 预定义的主题颜色（Rust橙色） */
.theme-rust {
  --ts-blue: #f74c00;
  --ts-blue-light: #ff6a1f;
  --ts-blue-dark: #c54100;

  --ts-blue-dark-mode: #ff6a1f;
  --ts-blue-light-dark-mode: #ff8f4f;
  --ts-blue-darker-dark-mode: #f74c00;
}

/* 预定义的主题颜色（React蓝色） */
.theme-react {
  --ts-blue: #61dafb;
  --ts-blue-light: #7ee3ff;
  --ts-blue-dark: #39a7c9;

  --ts-blue-dark-mode: #7ee3ff;
  --ts-blue-light-dark-mode: #a1ecff;
  --ts-blue-darker-dark-mode: #61dafb;
}

/* 预定义的主题颜色（Vue绿色） */
.theme-vue {
  --ts-blue: #42b883;
  --ts-blue-light: #5accaa;
  --ts-blue-dark: #33a06f;

  --ts-blue-dark-mode: #5accaa;
  --ts-blue-light-dark-mode: #7dd8bc;
  --ts-blue-darker-dark-mode: #42b883;
}

/* 预定义的主题颜色（紫色） */
.theme-purple {
  --ts-blue: #7e57c2;
  --ts-blue-light: #9575cd;
  --ts-blue-dark: #673ab7;

  --ts-blue-dark-mode: #9575cd;
  --ts-blue-light-dark-mode: #b39ddb;
  --ts-blue-darker-dark-mode: #7e57c2;
}

/* 预定义的主题颜色（粉色） */
.theme-pink {
  --ts-blue: #ec4899;
  --ts-blue-light: #f472b6;
  --ts-blue-dark: #d81b60;

  --ts-blue-dark-mode: #f472b6;
  --ts-blue-light-dark-mode: #f8a4c9;
  --ts-blue-darker-dark-mode: #ec4899;
}

/* 主题切换按钮自定义样式 */
.VPSwitchAppearance {
  border-radius: 8px !important;
  border: 1px solid var(--vp-c-divider) !important;
  padding: 2px !important;
  transition: border-color 0.25s, transform 0.25s !important;
}

.VPSwitchAppearance:hover {
  border-color: var(--vp-c-brand) !important;
  transform: scale(1.05) !important;
}

/* 专题卡片样式 - 深色模式下更加突出 */
.dark .feature-item {
  background-color: #2a2a2a;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
  border: 1px solid #343434;
}

.dark .feature-item:hover {
  border-color: var(--ts-pink);
  box-shadow: 0 5px 20px rgba(236, 72, 153, 0.15);
}

/* 深色模式下的粉色文本 */
.dark .pink-text {
  color: var(--ts-pink-light);
}

.dark .main-title,
.dark .section-title {
  color: white;
}

/* 深色模式下的贡献部分 */
.dark .contribution-section {
  background-color: #2a2a2a;
  border-left: 4px solid var(--ts-pink);
}

/* 深色模式下的列表点 */
.dark .challenge-list li::before {
  color: var(--ts-pink-light);
}

/* 深色模式下的按钮 */
.dark .action-button.primary {
  background-color: var(--ts-pink);
  box-shadow: 0 4px 10px rgba(236, 72, 153, 0.2);
}

.dark .action-button.primary:hover {
  background-color: var(--ts-pink-light);
  box-shadow: 0 6px 15px rgba(236, 72, 153, 0.3);
}

.dark .action-button.secondary {
  background-color: #2a2a2a;
  border: 1px solid #444;
  color: rgba(255, 255, 255, 0.9) !important;
}

.dark .action-button.secondary:hover {
  background-color: #333;
}

/* 导航栏深色模式 */
.dark .VPNav {
  background-color: rgba(26, 26, 26, 0.7);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid #333;
}

/* 代码块样式增强 */
div[class*='language-'] {
  border-radius: 8px !important;
  margin: 18px 0 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  transition: box-shadow 0.3s ease !important;
}

.dark div[class*='language-'] {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
  border: 1px solid #333;
}

div[class*='language-']:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

.dark div[class*='language-']:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  border-color: #444;
}

/* 内联代码样式 */
code {
  color: var(--ts-blue-dark) !important;
  background-color: rgba(49, 120, 198, 0.1) !important;
  padding: 2px 5px !important;
  border-radius: 4px !important;
}

.dark code {
  color: var(--ts-blue-light-dark-mode) !important;
  background-color: rgba(77, 141, 221, 0.15) !important;
}

/* 导航栏样式增强 */
.VPNavBar {
  border-bottom: 1px solid var(--vp-c-divider) !important;
  backdrop-filter: blur(8px) !important;
}

.dark .VPNavBar {
  backdrop-filter: blur(8px) !important;
  background-color: rgba(26, 26, 26, 0.8) !important;
}

/* 语言切换样式 */
.VPNavBarMenuGroup .VPNavBarMenuLink {
  transition: color 0.25s, transform 0.25s !important;
}

.VPNavBarMenuGroup .VPNavBarMenuLink:hover {
  transform: translateX(2px) !important;
}

/* 挑战列表项自定义样式 */
.challenge-list-item {
  position: relative;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
}

.challenge-list-item::before {
  content: "";
  position: absolute;
  left: 0;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: var(--ts-pink);
}

.dark .challenge-list-item::before {
  background-color: var(--ts-pink-light);
}

/* 代码行号和高亮 */
div[class*='language-'] {
  position: relative;
  overflow-x: auto;
}

div[class*='language-'] pre {
  padding: 16px 24px !important;
  line-height: 1.5 !important;
  font-size: 14px !important;
}

div[class*='language-'] code .line {
  padding-left: 0 !important;
  display: inline-block;
  min-width: 100%;
  position: relative;
  z-index: 1;
}

div[class*='language-'] code .line.highlighted {
  background-color: var(--vp-code-line-highlight-color) !important;
  box-shadow: inset 3px 0 0 0 var(--vp-c-brand) !important;
  border-radius: 0 4px 4px 0;
}

/* 代码行号 */
div[class*='language-'] code {
  counter-reset: line;
}

div[class*='language-'] code .line::before {
  counter-increment: line;
  content: counter(line);
  display: inline-block;
  width: 1.5rem;
  text-align: right;
  color: var(--vp-c-text-3);
  padding-right: 1rem;
  margin-right: 1rem;
  border-right: 1px solid var(--vp-c-divider);
  transition: color 0.5s;
}

div[class*='language-'] code:hover .line::before {
  color: var(--vp-c-text-2);
}

/* 移动端适配 */
@media (max-width: 640px) {
  div[class*='language-'] pre {
    padding: 12px 16px !important;
    font-size: 13px !important;
  }

  div[class*='language-'] code .line::before {
    width: 1.2rem;
    padding-right: 0.75rem;
    margin-right: 0.75rem;
  }
}

/* 平板适配 */
@media (max-width: 960px) {
  .VPContent {
    padding: 0 24px !important;
  }
}
